<?xml version="1.0" encoding="UTF-8"?>

<!--
  - Application context definition for JPetStore's business layer. 
  -
  - Contains bean references to the transaction manager and to the DAOs in
  - dataAccessContext-local/jta.xml (see web.xml's "contextConfigLocation").
  -->
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="
			http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
			http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
			http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">
	<!--
	<bean id="smFacadeAdvisor" class="org.springframework.aop.support.RegexpMethodPointcutAdvisor">
    	<property name="advice" ref="smFacadeAdvice"/>
    	<property name="patterns">
    		<list>
    		    <value>.*Facade.*\.(?!toString).*</value>
            </list>
    	</property>
    </bean>

	<bean id="smFacadeAdvice" class="com.yotc.opview.framework.facade.FacadeAdvice">
		<property name="beforeListeners">
			<list>
				<ref bean="smSessionAdviceListener"/>
			</list>
		</property>
		<property name="afterListeners">
			<list>
				<ref bean="smSessionAdviceListener"/>
				<ref bean="mgmtScopeAdviceListener"/>
				<ref bean="opLogAdviceListener"/>
			</list>
		</property>
	</bean>
	
	
	
	<bean id="facadeAdvisor" class="org.springframework.aop.support.RegexpMethodPointcutAdvisor">
    	<property name="advice" ref="facadeAdvice"/>
    	<property name="patterns">
    		<list>
    		    <value>.*Facade.*\.(?!toString).*</value>
            </list>
    	</property>
    </bean>

	<bean id="facadeAdvice" class="com.yotc.opview.framework.facade.FacadeAdvice">
		<property name="beforeListeners">
			<list>
				<ref bean="sessionAdviceListener"/>
			</list>
		</property>
		<property name="afterListeners">
			<list>
				<ref bean="sessionAdviceListener"/>
				<ref bean="mgmtScopeAdviceListener"/>
				<ref bean="opLogAdviceListener"/>
			</list>
		</property>
	</bean>
	-->
</beans>